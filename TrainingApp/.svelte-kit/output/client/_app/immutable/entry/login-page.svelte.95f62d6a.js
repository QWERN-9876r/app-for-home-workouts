import{S as F,i as G,s as J,k as d,q as N,a as E,l as m,m as k,r as T,h as p,c as I,n as f,b as S,E as o,L as P,M as j,I as B,N as K,u as Q}from"../chunks/index.7d26dc88.js";import{s as R,a as W}from"../chunks/staticData.0ecd3725.js";function z(n){let t;function e(s,r){return typeof s[2]=="string"?Y:X}let l=e(n),a=l(n);return{c(){t=d("p"),a.c(),this.h()},l(s){t=m(s,"P",{class:!0});var r=k(t);a.l(r),r.forEach(p),this.h()},h(){f(t,"class","error svelte-wx0ai1")},m(s,r){S(s,t,r),a.m(t,null)},p(s,r){l===(l=e(s))&&a?a.p(s,r):(a.d(1),a=l(s),a&&(a.c(),a.m(t,null)))},d(s){s&&p(t),a.d()}}}function X(n){let t;return{c(){t=N("Неверный логин или пароль")},l(e){t=T(e,"Неверный логин или пароль")},m(e,l){S(e,t,l)},p:B,d(e){e&&p(t)}}}function Y(n){let t;return{c(){t=N(n[2])},l(e){t=T(e,n[2])},m(e,l){S(e,t,l)},p(e,l){l&4&&Q(t,e[2])},d(e){e&&p(t)}}}function Z(n){let t,e,l,a,s,r,w,u,h,v,y,q,A,g,C,M,O,D,i=n[2]&&z(n);return{c(){t=d("main"),e=d("section"),l=d("h1"),a=N("Войти"),s=E(),r=d("input"),w=E(),u=d("input"),h=E(),v=d("div"),y=d("a"),q=N("Нет аккаунта?"),A=E(),g=d("button"),C=N("Войти"),M=E(),i&&i.c(),this.h()},l(c){t=m(c,"MAIN",{class:!0});var b=k(t);e=m(b,"SECTION",{});var _=k(e);l=m(_,"H1",{});var H=k(l);a=T(H,"Войти"),H.forEach(p),s=I(_),r=m(_,"INPUT",{type:!0,placeholder:!0,class:!0}),w=I(_),u=m(_,"INPUT",{type:!0,placeholder:!0,class:!0}),h=I(_),v=m(_,"DIV",{class:!0});var U=k(v);y=m(U,"A",{href:!0,class:!0});var L=k(y);q=T(L,"Нет аккаунта?"),L.forEach(p),A=I(U),g=m(U,"BUTTON",{class:!0});var V=k(g);C=T(V,"Войти"),V.forEach(p),U.forEach(p),M=I(_),i&&i.l(_),_.forEach(p),b.forEach(p),this.h()},h(){f(r,"type","text"),f(r,"placeholder","имя"),f(r,"class","svelte-wx0ai1"),f(u,"type","password"),f(u,"placeholder","пароль"),f(u,"class","svelte-wx0ai1"),f(y,"href","register"),f(y,"class","svelte-wx0ai1"),f(g,"class","svelte-wx0ai1"),f(v,"class","svelte-wx0ai1"),f(t,"class","svelte-wx0ai1")},m(c,b){S(c,t,b),o(t,e),o(e,l),o(l,a),o(e,s),o(e,r),P(r,n[0]),o(e,w),o(e,u),P(u,n[1]),o(e,h),o(e,v),o(v,y),o(y,q),o(v,A),o(v,g),o(g,C),o(e,M),i&&i.m(e,null),O||(D=[j(r,"input",n[4]),j(u,"input",n[5]),j(g,"click",n[3])],O=!0)},p(c,[b]){b&1&&r.value!==c[0]&&P(r,c[0]),b&2&&u.value!==c[1]&&P(u,c[1]),c[2]?i?i.p(c,b):(i=z(c),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:B,o:B,d(c){c&&p(t),i&&i.d(),O=!1,K(D)}}}function x(n,t,e){let l="",a="",s=!1;const r=()=>{try{fetch(`${R}/login?username=${l}&password=${a}`).then(h=>{if(h.ok)return e(2,s=!1),h.json();e(2,s="Ошибка отправки данных")}).then(h=>{h[0].name?(W(h[0]),location="/"):e(2,s=!0)}),!s&&!localStorage.getItem("user")&&e(2,s="Ошибка отправки данных")}catch{e(2,s="Ошибка отправки данных")}};function w(){l=this.value,e(0,l)}function u(){a=this.value,e(1,a)}return[l,a,s,r,w,u]}class te extends F{constructor(t){super(),G(this,t,x,Z,J,{})}}export{te as default};
