import{S as ee,i as te,s as le,k as E,y as se,a as P,q as A,l as b,m as y,z as ae,h as m,c as S,r as T,n as p,b as L,E as u,A as ne,L as H,M as W,u as D,g as oe,d as re,B as ue,N as ie}from"../chunks/index.7d26dc88.js";import{s as pe,a as fe}from"../chunks/staticData.51458e3e.js";import{S as ce}from"../chunks/select.60956264.js";import{t as h}from"../chunks/translation.f723c923.js";function x(a){let t;function e(o,r){return typeof o[2]=="string"?ge:_e}let l=e(a),s=l(a);return{c(){t=E("p"),s.c(),this.h()},l(o){t=b(o,"P",{class:!0});var r=y(t);s.l(r),r.forEach(m),this.h()},h(){p(t,"class","error svelte-14lptpf")},m(o,r){L(o,t,r),s.m(t,null)},p(o,r){l===(l=e(o))&&s?s.p(o,r):(s.d(1),s=l(o),s&&(s.c(),s.m(t,null)))},d(o){o&&m(t),s.d()}}}function _e(a){let t=h.get("invalidUsernameOrPassword").get(a[3].value)+"",e;return{c(){e=A(t)},l(l){e=T(l,t)},m(l,s){L(l,e,s)},p(l,s){s&8&&t!==(t=h.get("invalidUsernameOrPassword").get(l[3].value)+"")&&D(e,t)},d(l){l&&m(e)}}}function ge(a){let t;return{c(){t=A(a[2])},l(e){t=T(e,a[2])},m(e,l){L(e,t,l)},p(e,l){l&4&&D(t,e[2])},d(e){e&&m(t)}}}function he(a){let t,e,l,s,o,r,w=h.get("logIn").get(a[3].value)+"",g,q,_,O,v,d,M,F,N,k,B=h.get("noAccount").get(a[3].value)+"",V,G,J,U,C=h.get("logIn").get(a[3].value)+"",j,K,I,Q,X;s=new ce({props:{options:a[4],optionNow:a[3],setOptionNow:a[5]}});let i=a[2]&&x(a);return{c(){t=E("main"),e=E("section"),l=E("div"),se(s.$$.fragment),o=P(),r=E("h1"),g=A(w),q=P(),_=E("input"),v=P(),d=E("input"),F=P(),N=E("div"),k=E("a"),V=A(B),G=A("?"),J=P(),U=E("button"),j=A(C),K=P(),i&&i.c(),this.h()},l(n){t=b(n,"MAIN",{class:!0});var c=y(t);e=b(c,"SECTION",{class:!0});var f=y(e);l=b(f,"DIV",{class:!0});var Y=y(l);ae(s.$$.fragment,Y),Y.forEach(m),o=S(f),r=b(f,"H1",{});var Z=y(r);g=T(Z,w),Z.forEach(m),q=S(f),_=b(f,"INPUT",{type:!0,placeholder:!0,class:!0}),v=S(f),d=b(f,"INPUT",{type:!0,placeholder:!0,class:!0}),F=S(f),N=b(f,"DIV",{class:!0});var z=y(N);k=b(z,"A",{href:!0,class:!0});var R=y(k);V=T(R,B),G=T(R,"?"),R.forEach(m),J=S(z),U=b(z,"BUTTON",{class:!0});var $=y(U);j=T($,C),$.forEach(m),z.forEach(m),K=S(f),i&&i.l(f),f.forEach(m),c.forEach(m),this.h()},h(){p(l,"class","select svelte-14lptpf"),p(_,"type","text"),p(_,"placeholder",O=h.get("name").get(a[3].value)),p(_,"class","svelte-14lptpf"),p(d,"type","password"),p(d,"placeholder",M=h.get("password").get(a[3].value)),p(d,"class","svelte-14lptpf"),p(k,"href","register"),p(k,"class","svelte-14lptpf"),p(U,"class","svelte-14lptpf"),p(N,"class","svelte-14lptpf"),p(e,"class","svelte-14lptpf"),p(t,"class","svelte-14lptpf")},m(n,c){L(n,t,c),u(t,e),u(e,l),ne(s,l,null),u(e,o),u(e,r),u(r,g),u(e,q),u(e,_),H(_,a[0]),u(e,v),u(e,d),H(d,a[1]),u(e,F),u(e,N),u(N,k),u(k,V),u(k,G),u(N,J),u(N,U),u(U,j),u(e,K),i&&i.m(e,null),I=!0,Q||(X=[W(_,"input",a[7]),W(d,"input",a[8]),W(U,"click",a[6])],Q=!0)},p(n,[c]){const f={};c&8&&(f.optionNow=n[3]),s.$set(f),(!I||c&8)&&w!==(w=h.get("logIn").get(n[3].value)+"")&&D(g,w),(!I||c&8&&O!==(O=h.get("name").get(n[3].value)))&&p(_,"placeholder",O),c&1&&_.value!==n[0]&&H(_,n[0]),(!I||c&8&&M!==(M=h.get("password").get(n[3].value)))&&p(d,"placeholder",M),c&2&&d.value!==n[1]&&H(d,n[1]),(!I||c&8)&&B!==(B=h.get("noAccount").get(n[3].value)+"")&&D(V,B),(!I||c&8)&&C!==(C=h.get("logIn").get(n[3].value)+"")&&D(j,C),n[2]?i?i.p(n,c):(i=x(n),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i(n){I||(oe(s.$$.fragment,n),I=!0)},o(n){re(s.$$.fragment,n),I=!1},d(n){n&&m(t),ue(s),i&&i.d(),Q=!1,ie(X)}}}function me(a,t,e){let l;const s=[{value:"Русский",src:"Русский.png"},{value:"English",src:"English.png"}],o=v=>e(3,l=v);let r="",w="",g=!1;const q=()=>{try{fetch(`${pe}/login?username=${r}&password=${w}`).then(v=>{if(v.ok)return e(2,g=!1),v.json();e(2,g="Ошибка отправки данных")}).then(v=>{v[0].name?(fe(v[0]),location="/"):e(2,g=!0)}),!g&&!localStorage.getItem("user")&&e(2,g="Ошибка отправки данных")}catch{e(2,g="Ошибка отправки данных")}};function _(){r=this.value,e(0,r)}function O(){w=this.value,e(1,w)}return e(3,l=o(s[0])),[r,w,g,l,s,o,q,_,O]}class be extends ee{constructor(t){super(),te(this,t,me,he,le,{})}}export{be as default};
