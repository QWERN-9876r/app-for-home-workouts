import{S as B,i as H,s as L,k as d,q as g,a as k,l as v,m as E,r as y,h as w,c as I,n as _,b as A,E as r,L as T,M as U,I as O,N as z,u as D}from"../chunks/index.7d26dc88.js";import{s as F,a as G}from"../chunks/staticData.51458e3e.js";function j(i){let s,e,l,u;return{c(){s=d("p"),e=g("Пользователь с именем "),l=g(i[0]),u=g(" уже существует"),this.h()},l(a){s=v(a,"P",{class:!0});var t=E(s);e=y(t,"Пользователь с именем "),l=y(t,i[0]),u=y(t," уже существует"),t.forEach(w),this.h()},h(){_(s,"class","svelte-9nvsww")},m(a,t){A(a,s,t),r(s,e),r(s,l),r(s,u)},p(a,t){t&1&&D(l,a[0])},d(a){a&&w(s)}}}function J(i){let s,e,l,u,a,t,N,p,b,f,h,P,S,q,n=i[2]&&j(i);return{c(){s=d("main"),e=d("section"),l=d("h1"),u=g("Регистрация"),a=k(),t=d("input"),N=k(),p=d("input"),b=k(),f=d("button"),h=g("Зарегистрироваться"),P=k(),n&&n.c(),this.h()},l(o){s=v(o,"MAIN",{class:!0});var m=E(s);e=v(m,"SECTION",{});var c=E(e);l=v(c,"H1",{});var C=E(l);u=y(C,"Регистрация"),C.forEach(w),a=I(c),t=v(c,"INPUT",{type:!0,placeholder:!0,class:!0}),N=I(c),p=v(c,"INPUT",{type:!0,placeholder:!0,class:!0}),b=I(c),f=v(c,"BUTTON",{class:!0});var M=E(f);h=y(M,"Зарегистрироваться"),M.forEach(w),P=I(c),n&&n.l(c),c.forEach(w),m.forEach(w),this.h()},h(){_(t,"type","text"),_(t,"placeholder","имя"),_(t,"class","svelte-9nvsww"),_(p,"type","password"),_(p,"placeholder","пароль"),_(p,"class","svelte-9nvsww"),_(f,"class","svelte-9nvsww"),_(s,"class","svelte-9nvsww")},m(o,m){A(o,s,m),r(s,e),r(e,l),r(l,u),r(e,a),r(e,t),T(t,i[0]),r(e,N),r(e,p),T(p,i[1]),r(e,b),r(e,f),r(f,h),r(e,P),n&&n.m(e,null),S||(q=[U(t,"input",i[5]),U(t,"input",i[6]),U(p,"input",i[7]),U(f,"click",i[4])],S=!0)},p(o,[m]){m&1&&t.value!==o[0]&&T(t,o[0]),m&2&&p.value!==o[1]&&T(p,o[1]),o[2]?n?n.p(o,m):(n=j(o),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:O,o:O,d(o){o&&w(s),n&&n.d(),S=!1,z(q)}}}function K(i,s,e){let l="",u="",a=!1;const t=()=>!isNaN(Number(l[0]))||l[0]==="-"||l[0]==="="||l[0]==="+",N=()=>{fetch(`${F}/register?username=${l}&password=${u}`).then(h=>{if(h.ok)return e(2,a=!1),h.json();e(2,a=!0)}).then(h=>{if(h[0]){e(2,a=!0);return}G(h),location="/"})};function p(){l=this.value,e(0,l)}const b=()=>{t()&&e(0,l="")};function f(){u=this.value,e(1,u)}return[l,u,a,t,N,p,b,f]}class V extends B{constructor(s){super(),H(this,s,K,J,L,{})}}export{V as default};
